@page "/admin"
@using Larp.Landing.Shared

@inject LandingService LandingService

<PageHeader>Administration Section</PageHeader>

<AdminLayout Loading="_dashboard == null" Title="Dashboard">
    <MudGrid>
        <MudItem md="4" xs="6">
            <MudPaper Style="text-align: center" Class="pa-4">
                <MudTooltip Text="Number of accounts registered">
                    <MudText Typo="Typo.h2" Align="Align.Center">@_dashboard.Accounts</MudText>
                    <MudText Typo="Typo.caption" Align="Align.Center">Accounts</MudText>
                </MudTooltip>
            </MudPaper>
        </MudItem>
        <MudItem md="4" xs="6">
            <MudPaper Style="text-align: center" Class="pa-4">
                <MudTooltip Text="Number of accounts that logged in and verified their email">
                    <MudText Typo="Typo.h2" Align="Align.Center">@_dashboard.VerifiedAccounts</MudText>
                    <MudText Typo="Typo.caption" Align="Align.Center">Verified Accounts</MudText>
                </MudTooltip>
            </MudPaper>
        </MudItem>
        <MudItem md="4" xs="6">
            <MudPaper Style="text-align: center" Class="pa-4">
                <MudTooltip Text="Number of characters that have been approved for in-game">
                    <MudText Typo="Typo.h2" Align="Align.Center">@_dashboard.MwFifthCharacters</MudText>
                    <MudText Typo="Typo.caption" Align="Align.Center">Live Characters</MudText>
                </MudTooltip>
            </MudPaper>
        </MudItem>
        <MudItem md="4" xs="6">
            <MudPaper Style="text-align: center" Class="pa-4">
                <MudTooltip Text="Number of characters that are waiting on game master approval">
                    <MudText Typo="Typo.h2" Align="Align.Center">@_dashboard.MwFifthReview</MudText>
                    <MudText Typo="Typo.caption" Align="Align.Center">Reviews Needed</MudText>
                </MudTooltip>
            </MudPaper>
        </MudItem>
        <MudItem md="4" xs="6">
            <MudPaper Style="text-align: center" Class="pa-4">
                <MudTooltip Text="Number of submitted letters that are waiting for be approved">
                    <MudText Typo="Typo.h2" Align="Align.Center">@_dashboard.ReviewLetters</MudText>
                    <MudText Typo="Typo.caption" Align="Align.Center">Letters Submitted</MudText>
                </MudTooltip>
            </MudPaper>
        </MudItem>
    </MudGrid>
</AdminLayout>

@code {

    protected override async Task OnInitializedAsync()
    {
        _dashboard = await LandingService.Admin.GetDashboard();
    }

    private Dashboard? _dashboard;
}